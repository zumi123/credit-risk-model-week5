{"version":3,"file":"static/js/7581.94973fc7.chunk.js","mappings":"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","sources":["experiment-tracking/components/run-page/hooks/useUnifiedRegisteredModelVersionsSummariesForRun.tsx","experiment-tracking/components/run-page/hooks/useRunDetailsPageData.tsx","experiment-tracking/components/run-page/useRunDetailsPageDataLegacy.tsx","experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelDatasetButton.tsx","experiment-tracking/components/experiment-logged-models/hooks/useExperimentLoggedModelRegisteredVersions.tsx","experiment-tracking/components/experiment-logged-models/hooks/useExperimentLoggedModelOpenDatasetDetails.tsx","../node_modules/@apollo/src/react/hooks/useLazyQuery.ts","experiment-tracking/components/run-page/hooks/useGetRunQuery.tsx","shared/web-shared/metrics/UserActionErrorHandler.tsx","experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelSourceBox.tsx","shared/web-shared/browse/TimeAgo.tsx","experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelTableDateCell.tsx","../node_modules/@tanstack/query-core/src/queriesObserver.ts","../node_modules/@tanstack/react-query/src/useQueries.ts","experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelStatusIndicator.tsx","common/hooks/useArrayMemo.ts"],"sourcesContent":["import { useSelector } from 'react-redux';\nimport type { ReduxState } from '../../../../redux-types';\nimport { ModelRegistryRoutes } from '../../../../model-registry/routes';\nimport { shouldEnableGraphQLModelVersionsForRunDetails } from '../../../../common/utils/FeatureUtils';\nimport { UseGetRunQueryResponse } from './useGetRunQuery';\n\n/**\n * A unified model version summary that can be used to display model versions on the run page.\n */\nexport type RunPageModelVersionSummary = {\n  displayedName: string | null;\n  version: string | null;\n  link: string;\n  status: string | null;\n  source: string | null;\n};\n\n/**\n * We're currently using multiple ways to get model versions on the run page,\n * we also differentiate between UC and workspace registry models.\n *\n * This hook is intended to unify the way we get model versions on the run page to be displayed in overview and register model dropdown.\n */\nexport const useUnifiedRegisteredModelVersionsSummariesForRun = ({\n  queryResult,\n  runUuid,\n}: {\n  runUuid: string;\n  queryResult?: UseGetRunQueryResponse;\n}): RunPageModelVersionSummary[] => {\n  const { registeredModels: registeredModelsFromStore } = useSelector(({ entities }: ReduxState) => ({\n    registeredModels: entities.modelVersionsByRunUuid[runUuid],\n  }));\n\n  if (shouldEnableGraphQLModelVersionsForRunDetails()) {\n    const result: RunPageModelVersionSummary[] = [];\n    if (queryResult?.data && 'modelVersions' in queryResult.data) {\n      queryResult.data?.modelVersions?.forEach((modelVersion) => {\n        result.push({\n          displayedName: modelVersion.name,\n          version: modelVersion.version,\n          link:\n            modelVersion.name && modelVersion.version\n              ? ModelRegistryRoutes.getModelVersionPageRoute(modelVersion.name, modelVersion.version)\n              : '',\n          status: modelVersion.status,\n          source: modelVersion.source,\n        });\n      });\n    }\n    return result;\n  }\n\n  if (registeredModelsFromStore) {\n    return registeredModelsFromStore.map((modelVersion) => {\n      const name = modelVersion.name;\n      const link = ModelRegistryRoutes.getModelVersionPageRoute(name, modelVersion.version);\n      return {\n        displayedName: modelVersion.name,\n        version: modelVersion.version,\n        link,\n        status: modelVersion.status,\n        source: modelVersion.source,\n      };\n    });\n  }\n\n  return [];\n};\n","import { isEmpty, keyBy } from 'lodash';\nimport { useEffect, useMemo } from 'react';\nimport { useRunDetailsPageDataLegacy } from '../useRunDetailsPageDataLegacy';\nimport {\n  type UseGetRunQueryResponseExperiment,\n  useGetRunQuery,\n  UseGetRunQueryDataApiError,\n  UseGetRunQueryResponseDataMetrics,\n  UseGetRunQueryResponseDatasetInputs,\n  type UseGetRunQueryResponseInputs,\n  type UseGetRunQueryResponseOutputs,\n  UseGetRunQueryResponseRunInfo,\n} from './useGetRunQuery';\nimport {\n  KeyValueEntity,\n  RunDatasetWithTags,\n  type ExperimentEntity,\n  type MetricEntitiesByName,\n  type MetricEntity,\n  type RunInfoEntity,\n} from '../../../types';\nimport {\n  shouldEnableGraphQLModelVersionsForRunDetails,\n  shouldEnableGraphQLRunDetailsPage,\n} from '../../../../common/utils/FeatureUtils';\nimport { ThunkDispatch } from '../../../../redux-types';\nimport { useDispatch } from 'react-redux';\nimport { searchModelVersionsApi } from '../../../../model-registry/actions';\nimport { ApolloError } from '@mlflow/mlflow/src/common/utils/graphQLHooks';\nimport { ErrorWrapper } from '../../../../common/utils/ErrorWrapper';\nimport { pickBy } from 'lodash';\nimport {\n  type RunPageModelVersionSummary,\n  useUnifiedRegisteredModelVersionsSummariesForRun,\n} from './useUnifiedRegisteredModelVersionsSummariesForRun';\n\n// Internal util: transforms an array of objects into a keyed object by the `key` field\nconst transformToKeyedObject = <Output, Input = any>(inputArray: Input[]) =>\n  // TODO: fix this type error\n  // @ts-expect-error: Conversion of type 'Dictionary<Input>' to type 'Record<string, Output>' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.\n  keyBy(inputArray, 'key') as Record<string, Output>;\n\n// Internal util: transforms an array of metric values into an array of MetricEntity objects\n// GraphQL uses strings for steps and timestamp so we cast them to numbers\nconst transformMetricValues = (inputArray: UseGetRunQueryResponseDataMetrics): MetricEntity[] =>\n  inputArray\n    .filter(({ key, value, step, timestamp }) => key !== null && value !== null && step !== null && timestamp !== null)\n    .map(({ key, value, step, timestamp }: any) => ({\n      key,\n      value,\n      step: Number(step),\n      timestamp: Number(timestamp),\n    }));\n\n// Internal util: transforms an array of dataset inputs into an array of RunDatasetWithTags objects\nexport const transformDatasets = (inputArray?: UseGetRunQueryResponseDatasetInputs): RunDatasetWithTags[] | undefined =>\n  inputArray?.map((datasetInput) => ({\n    dataset: {\n      digest: datasetInput.dataset?.digest ?? '',\n      name: datasetInput.dataset?.name ?? '',\n      profile: datasetInput.dataset?.profile ?? '',\n      schema: datasetInput.dataset?.schema ?? '',\n      source: datasetInput.dataset?.source ?? '',\n      sourceType: datasetInput.dataset?.sourceType ?? '',\n    },\n    tags:\n      datasetInput.tags\n        ?.map((tag) => ({\n          key: tag.key ?? '',\n          value: tag.value ?? '',\n        }))\n        .filter((tag) => !isEmpty(tag.key)) ?? [],\n  }));\n\ninterface UseRunDetailsPageDataResult {\n  experiment?: ExperimentEntity | UseGetRunQueryResponseExperiment;\n  error: Error | ErrorWrapper | undefined | ApolloError;\n\n  latestMetrics: MetricEntitiesByName;\n  loading: boolean;\n  params: Record<string, KeyValueEntity>;\n  refetchRun: any;\n  runInfo?: RunInfoEntity | UseGetRunQueryResponseRunInfo;\n  tags: Record<string, KeyValueEntity>;\n  datasets?: RunDatasetWithTags[];\n  runInputs?: UseGetRunQueryResponseInputs;\n  runOutputs?: UseGetRunQueryResponseOutputs;\n\n  // Only present in legacy implementation\n  runFetchError?: Error | ErrorWrapper | undefined;\n  experimentFetchError?: Error | ErrorWrapper | undefined;\n\n  registeredModelVersionSummaries: RunPageModelVersionSummary[];\n\n  // Only present in graphQL implementation\n  apiError?: UseGetRunQueryDataApiError;\n}\n\n/**\n * An updated version of the `useRunDetailsPageData` hook that either uses the REST API-based implementation\n * or the GraphQL-based implementation to fetch run details, based on the `shouldEnableGraphQLRunDetailsPage` flag.\n */\nexport const useRunDetailsPageData = ({\n  runUuid,\n  experimentId,\n}: {\n  runUuid: string;\n  experimentId: string;\n}): UseRunDetailsPageDataResult => {\n  const usingGraphQL = shouldEnableGraphQLRunDetailsPage();\n  const dispatch = useDispatch<ThunkDispatch>();\n\n  // If GraphQL flag is enabled, use the graphQL query to fetch the run data.\n  // We can safely disable the eslint rule since feature flag evaluation is stable\n  /* eslint-disable react-hooks/rules-of-hooks */\n  if (usingGraphQL) {\n    const graphQLQuery = () =>\n      useGetRunQuery({\n        runUuid,\n      });\n\n    const detailsPageGraphqlResponse = graphQLQuery();\n\n    // If model versions are colocated in the GraphQL response, we don't need to make an additional API call\n    useEffect(() => {\n      if (shouldEnableGraphQLModelVersionsForRunDetails()) {\n        return;\n      }\n      dispatch(searchModelVersionsApi({ run_id: runUuid }));\n    }, [dispatch, runUuid]);\n\n    const { latestMetrics, tags, params, datasets } = useMemo(() => {\n      // Filter out tags, metrics, and params that are entirely whitespace\n      return {\n        latestMetrics: pickBy(\n          transformToKeyedObject<MetricEntity>(\n            transformMetricValues(detailsPageGraphqlResponse.data?.data?.metrics ?? []),\n          ),\n          (metric) => metric.key.trim().length > 0,\n        ),\n        tags: pickBy(\n          transformToKeyedObject<KeyValueEntity>(detailsPageGraphqlResponse.data?.data?.tags ?? []),\n          (tag) => tag.key.trim().length > 0,\n        ),\n        params: pickBy(\n          transformToKeyedObject<KeyValueEntity>(detailsPageGraphqlResponse.data?.data?.params ?? []),\n          (param) => param.key.trim().length > 0,\n        ),\n        datasets: transformDatasets(detailsPageGraphqlResponse.data?.inputs?.datasetInputs),\n      };\n    }, [detailsPageGraphqlResponse.data]);\n\n    const registeredModelVersionSummaries = useUnifiedRegisteredModelVersionsSummariesForRun({\n      runUuid,\n      queryResult: detailsPageGraphqlResponse,\n    });\n\n    return {\n      runInfo: detailsPageGraphqlResponse.data?.info ?? undefined,\n      experiment: detailsPageGraphqlResponse.data?.experiment ?? undefined,\n      loading: detailsPageGraphqlResponse.loading,\n      error: detailsPageGraphqlResponse.apolloError,\n      apiError: detailsPageGraphqlResponse.apiError,\n      refetchRun: detailsPageGraphqlResponse.refetchRun,\n      runInputs: detailsPageGraphqlResponse.data?.inputs,\n      runOutputs: detailsPageGraphqlResponse.data?.outputs,\n      registeredModelVersionSummaries,\n      datasets,\n      latestMetrics,\n      tags,\n      params,\n    };\n  }\n\n  // If GraphQL flag is disabled, use the legacy implementation to fetch the run data.\n  const detailsPageResponse = useRunDetailsPageDataLegacy(runUuid, experimentId);\n  const error = detailsPageResponse.errors.runFetchError || detailsPageResponse.errors.experimentFetchError;\n\n  const registeredModelVersionSummaries = useUnifiedRegisteredModelVersionsSummariesForRun({\n    runUuid,\n  });\n\n  return {\n    runInfo: detailsPageResponse.data?.runInfo,\n    latestMetrics: detailsPageResponse.data?.latestMetrics,\n    tags: detailsPageResponse.data?.tags,\n    experiment: detailsPageResponse.data?.experiment,\n    params: detailsPageResponse.data?.params,\n    datasets: detailsPageResponse.data?.datasets,\n    loading: detailsPageResponse.loading,\n    error,\n    runFetchError: detailsPageResponse.errors.runFetchError,\n    experimentFetchError: detailsPageResponse.errors.experimentFetchError,\n    refetchRun: detailsPageResponse.refetchRun,\n    registeredModelVersionSummaries,\n  };\n};\n","import { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { ReduxState, ThunkDispatch } from '../../../redux-types';\nimport { getExperimentApi, getRunApi } from '../../actions';\nimport { searchModelVersionsApi } from '../../../model-registry/actions';\nimport { pickBy } from 'lodash';\nimport Utils from '../../../common/utils/Utils';\n\n/**\n * Hook fetching data for the run page: both run and experiment entities.\n * The initial fetch action is omitted if entities are already in the store.\n */\nexport const useRunDetailsPageDataLegacy = (runUuid: string, experimentId: string) => {\n  const [runRequestId, setRunRequestId] = useState('');\n  const [experimentRequestId, setExperimentRequestId] = useState('');\n  const dispatch = useDispatch<ThunkDispatch>();\n\n  // Get the necessary data from the store\n\n  const { runInfo, tags, latestMetrics, experiment, params, datasets } = useSelector((state: ReduxState) => ({\n    runInfo: state.entities.runInfosByUuid[runUuid],\n    // Filter out tags, metrics, and params that are entirely whitespace\n    tags: pickBy(state.entities.tagsByRunUuid[runUuid], (tag) => tag.key.trim().length > 0),\n    latestMetrics: pickBy(state.entities.latestMetricsByRunUuid[runUuid], (metric) => metric.key.trim().length > 0),\n    params: pickBy(state.entities.paramsByRunUuid[runUuid], (param) => param.key.trim().length > 0),\n    experiment: state.entities.experimentsById[experimentId],\n    datasets: state.entities.runDatasetsByUuid[runUuid],\n  }));\n\n  const fetchRun = useCallback(() => {\n    const action = getRunApi(runUuid);\n    setRunRequestId(action.meta.id);\n    return dispatch(action);\n  }, [dispatch, runUuid]);\n\n  const fetchExperiment = useCallback(() => {\n    const action = getExperimentApi(experimentId);\n    setExperimentRequestId(action.meta.id);\n    return dispatch(action);\n  }, [dispatch, experimentId]);\n\n  const fetchModelVersions = useCallback(() => {\n    dispatch(searchModelVersionsApi({ run_id: runUuid }));\n  }, [dispatch, runUuid]);\n\n  // Do the initial run & experiment fetch only if it's not in the store already\n  useEffect(() => {\n    if (!runInfo) {\n      fetchRun().catch((e) => Utils.logErrorAndNotifyUser(e));\n    }\n    fetchModelVersions();\n  }, [runInfo, fetchRun, fetchModelVersions]);\n\n  useEffect(() => {\n    if (!experiment) {\n      fetchExperiment().catch((e) => Utils.logErrorAndNotifyUser(e));\n    }\n  }, [experiment, fetchExperiment]);\n\n  // Check the \"apis\" store for the requests status\n  const { loading: runLoading, error: runFetchError } = useSelector((state: ReduxState) => ({\n    loading: !runRequestId || Boolean(state.apis?.[runRequestId]?.active),\n    error: state.apis?.[runRequestId]?.error,\n  }));\n\n  const { loading: experimentLoading, error: experimentFetchError } = useSelector((state: ReduxState) => ({\n    loading: !runRequestId || Boolean(state.apis?.[experimentRequestId]?.active),\n    error: state.apis?.[experimentRequestId]?.error,\n  }));\n\n  const loading = runLoading || experimentLoading;\n\n  return {\n    loading,\n    data: {\n      runInfo,\n      tags,\n      params,\n      latestMetrics,\n      experiment,\n      datasets,\n    },\n    refetchRun: fetchRun,\n    errors: { runFetchError, experimentFetchError },\n  };\n};\n","import { Button, Spinner, TableIcon, useDesignSystemTheme } from '@databricks/design-system';\nimport { useState } from 'react';\nimport { useExperimentLoggedModelOpenDatasetDetails } from './hooks/useExperimentLoggedModelOpenDatasetDetails';\nimport { useUserActionErrorHandler } from '@databricks/web-shared/metrics';\n\nexport const ExperimentLoggedModelDatasetButton = ({\n  datasetName,\n  datasetDigest,\n  runId,\n}: {\n  datasetName: string;\n  datasetDigest: string;\n  runId: string | null;\n}) => {\n  const { theme } = useDesignSystemTheme();\n  const [loadingDatasetDetails, setLoadingDatasetDetails] = useState(false);\n  const { onDatasetClicked } = useExperimentLoggedModelOpenDatasetDetails();\n  const { handleError } = useUserActionErrorHandler();\n\n  const handleDatasetClick = (datasetName: string, datasetDigest: string, runId: string | null) => {\n    if (runId) {\n      setLoadingDatasetDetails(true);\n      onDatasetClicked?.({ datasetName, datasetDigest, runId })\n        .catch((error) => {\n          handleError(error);\n        })\n        .finally(() => setLoadingDatasetDetails(false));\n    }\n  };\n\n  return (\n    <Button\n      type=\"link\"\n      icon={loadingDatasetDetails ? <Spinner size=\"small\" css={{ marginRight: theme.spacing.sm }} /> : <TableIcon />}\n      key={[datasetName, datasetDigest].join('.')}\n      componentId=\"mlflow.logged_model.dataset\"\n      onClick={() => handleDatasetClick(datasetName, datasetDigest, runId)}\n    >\n      {datasetName} (#{datasetDigest})\n    </Button>\n  );\n};\n","import { useMemo } from 'react';\nimport type { LoggedModelProto } from '../../../types';\nimport { compact } from 'lodash';\nimport { RunPageModelVersionSummary } from '../../run-page/hooks/useUnifiedRegisteredModelVersionsSummariesForRun';\nimport { createMLflowRoutePath } from '../../../../common/utils/RoutingUtils';\n\nconst MODEL_VERSIONS_TAG_NAME = 'mlflow.modelVersions';\n\nconst isUCModelName = (name: string) => Boolean(name.match(/^[^. /]+\\.[^. /]+\\.[^. /]+$/));\nconst getUCModelUrl = (name: string, version: string) =>\n  `/explore/data/models/${name.replace(/\\./g, '/')}/version/${version}`;\nconst getWMRModelUrl = (name: string, version: string) => createMLflowRoutePath(`/models/${name}/versions/${version}`);\n\nconst getTagValueForModel = (loggedModel: LoggedModelProto): { name: string; version: string }[] | null => {\n  try {\n    const tagValue = loggedModel.info?.tags?.find((tag) => tag.key === MODEL_VERSIONS_TAG_NAME)?.value;\n\n    if (tagValue) {\n      // Try to parse the tag. If it's malformed, catch and return nothing.\n      return JSON.parse(tagValue);\n    }\n  } catch (e) {\n    return null;\n  }\n  return null;\n};\n\nexport const useExperimentLoggedModelRegisteredVersions = ({ loggedModels }: { loggedModels: LoggedModelProto[] }) => {\n  const parsedModelVersionsTags = useMemo<{ name: string; version: string }[]>(\n    () => compact(loggedModels.map(getTagValueForModel)).flat(),\n    [loggedModels],\n  );\n\n  return useMemo<RunPageModelVersionSummary[]>(\n    () =>\n      parsedModelVersionsTags.map((registeredModelEntry) => {\n        const isUCModel = isUCModelName(registeredModelEntry.name);\n        const getUrlFn = isUCModel ? getUCModelUrl : getWMRModelUrl;\n        return {\n          displayedName: registeredModelEntry.name,\n          version: registeredModelEntry.version,\n          link: getUrlFn(registeredModelEntry.name, registeredModelEntry.version),\n          source: null,\n          status: null,\n        };\n      }) ?? [],\n    [parsedModelVersionsTags],\n  );\n};\n","import { createContext, useCallback, useContext, useMemo, useRef, useState } from 'react';\nimport {\n  type DatasetWithRunType,\n  ExperimentViewDatasetDrawer,\n} from '../../experiment-page/components/runs/ExperimentViewDatasetDrawer';\nimport { useLazyGetRunQuery } from '../../run-page/hooks/useGetRunQuery';\nimport { transformDatasets as transformGraphQLResponseDatasets } from '../../run-page/hooks/useRunDetailsPageData';\nimport { keyBy } from 'lodash';\nimport type { KeyValueEntity } from '../../../types';\nimport { ErrorLogType, ErrorName, PredefinedError } from '@databricks/web-shared/errors';\nimport { ErrorCodes } from '../../../../common/constants';\nimport { FormattedMessage } from 'react-intl';\n\nclass DatasetRunNotFoundError extends PredefinedError {\n  errorLogType = ErrorLogType.UnexpectedSystemStateError;\n  errorName = ErrorName.DatasetRunNotFoundError;\n  isUserError = true;\n  displayMessage = (\n    <FormattedMessage\n      defaultMessage=\"The run containing the dataset could not be found.\"\n      description=\"Error message displayed when the run for the dataset is not found\"\n    />\n  );\n}\n\ntype ExperimentLoggedModelOpenDatasetDetailsContextType = {\n  onDatasetClicked: (params: { datasetName: string; datasetDigest: string; runId: string }) => Promise<void>;\n};\n\nexport const ExperimentLoggedModelOpenDatasetDetailsContext =\n  createContext<ExperimentLoggedModelOpenDatasetDetailsContextType>({\n    onDatasetClicked: () => Promise.resolve(),\n  });\n\n/**\n * Creates a context provider that allows opening the dataset details drawer from the logged model page.\n * Uses the `useGetRunQuery` GraphQL to fetch the run info for the dataset.\n */\nexport const ExperimentLoggedModelOpenDatasetDetailsContextProvider = ({ children }: { children: React.ReactNode }) => {\n  const [isDrawerOpen, setIsDrawerOpen] = useState<boolean>(false);\n  const [selectedDatasetWithRun, setSelectedDatasetWithRun] = useState<DatasetWithRunType>();\n\n  const [getRunInfo] = useLazyGetRunQuery();\n\n  // Store the current promise's reject function\n  const rejectCurrentPromiseFn = useRef<((reason?: any) => void) | null>(null);\n\n  const onDatasetClicked = useCallback(\n    async (params: { datasetName: string; datasetDigest: string; runId: string }) =>\n      new Promise<void>((resolve, reject) => {\n        // If there's a promise in flight, reject it to remove previous loading state\n        rejectCurrentPromiseFn.current?.();\n\n        return getRunInfo({\n          onError: reject,\n          onCompleted(data) {\n            // If there's an API error in the response, reject the promise\n            if (data.mlflowGetRun?.apiError) {\n              // Special case: if the run is not found, show a different error message\n              const error =\n                data.mlflowGetRun.apiError.code === ErrorCodes.RESOURCE_DOES_NOT_EXIST\n                  ? new DatasetRunNotFoundError()\n                  : data.mlflowGetRun.apiError;\n              reject(error);\n              return;\n            }\n            // Transform the datasets into a format that can be used by the drawer UI\n            const datasets = transformGraphQLResponseDatasets(data.mlflowGetRun?.run?.inputs?.datasetInputs);\n\n            // Ensure that the datasets and run info are present\n            if (!datasets || !data.mlflowGetRun?.run?.info) {\n              resolve();\n              return;\n            }\n\n            // Find the dataset that matches the dataset name and digest\n            const matchingDataset = datasets?.find(\n              (datasetInput) =>\n                datasetInput.dataset?.digest === params.datasetDigest &&\n                datasetInput.dataset.name === params.datasetName,\n            );\n\n            // If the dataset is not found, return early\n            if (!matchingDataset) {\n              resolve();\n              return;\n            }\n            const { info, data: runData } = data.mlflowGetRun.run;\n\n            // Convert tags into a dictionary for easier access\n            const tagsDictionary = keyBy(runData?.tags?.filter((tag) => tag.key && tag.value) ?? [], 'key') as Record<\n              string,\n              KeyValueEntity\n            >;\n\n            // Open the drawer using the dataset and run info\n            setIsDrawerOpen(true);\n            setSelectedDatasetWithRun({\n              datasetWithTags: {\n                dataset: matchingDataset.dataset,\n                tags: matchingDataset.tags,\n              },\n              runData: {\n                datasets: datasets,\n                runUuid: info.runUuid ?? '',\n                experimentId: info.experimentId ?? '',\n                runName: info.runName ?? '',\n                tags: tagsDictionary,\n              },\n            });\n\n            // Resolve the promise\n            resolve();\n            rejectCurrentPromiseFn.current = null;\n          },\n          variables: { data: { runId: params.runId } },\n        });\n      }),\n    [getRunInfo],\n  );\n\n  const contextValue = useMemo(() => ({ onDatasetClicked }), [onDatasetClicked]);\n\n  return (\n    <ExperimentLoggedModelOpenDatasetDetailsContext.Provider value={contextValue}>\n      {children}\n      {selectedDatasetWithRun && (\n        <ExperimentViewDatasetDrawer\n          isOpen={isDrawerOpen}\n          selectedDatasetWithRun={selectedDatasetWithRun}\n          setIsOpen={setIsDrawerOpen}\n          setSelectedDatasetWithRun={setSelectedDatasetWithRun}\n        />\n      )}\n    </ExperimentLoggedModelOpenDatasetDetailsContext.Provider>\n  );\n};\n\nexport const useExperimentLoggedModelOpenDatasetDetails = () =>\n  useContext(ExperimentLoggedModelOpenDatasetDetailsContext);\n","import { DocumentNode } from 'graphql';\nimport { TypedDocumentNode } from '@graphql-typed-document-node/core';\nimport { useCallback, useMemo, useRef } from 'react';\n\nimport { OperationVariables } from '../../core';\nimport { mergeOptions } from '../../utilities';\nimport {\n  LazyQueryHookOptions,\n  LazyQueryResultTuple,\n  QueryResult,\n} from '../types/types';\nimport { useInternalState } from './useQuery';\nimport { useApolloClient } from './useApolloClient';\n\n// The following methods, when called will execute the query, regardless of\n// whether the useLazyQuery execute function was called before.\nconst EAGER_METHODS = [\n  'refetch',\n  'reobserve',\n  'fetchMore',\n  'updateQuery',\n  'startPolling',\n  'subscribeToMore',\n] as const;\n\nexport function useLazyQuery<TData = any, TVariables = OperationVariables>(\n  query: DocumentNode | TypedDocumentNode<TData, TVariables>,\n  options?: LazyQueryHookOptions<TData, TVariables>\n): LazyQueryResultTuple<TData, TVariables> {\n  const internalState = useInternalState(\n    useApolloClient(options && options.client),\n    query,\n  );\n\n  const execOptionsRef = useRef<Partial<LazyQueryHookOptions<TData, TVariables>>>();\n  const merged = execOptionsRef.current\n    ? mergeOptions(options, execOptionsRef.current)\n    : options;\n\n  const useQueryResult = internalState.useQuery({\n    ...merged,\n    skip: !execOptionsRef.current,\n  });\n\n  const initialFetchPolicy =\n    useQueryResult.observable.options.initialFetchPolicy ||\n    internalState.getDefaultFetchPolicy();\n\n  const result: QueryResult<TData, TVariables> =\n    Object.assign(useQueryResult, {\n      called: !!execOptionsRef.current,\n    });\n\n  // We use useMemo here to make sure the eager methods have a stable identity.\n  const eagerMethods = useMemo(() => {\n    const eagerMethods: Record<string, any> = {};\n    for (const key of EAGER_METHODS) {\n      const method = result[key];\n      eagerMethods[key] = function () {\n        if (!execOptionsRef.current) {\n          execOptionsRef.current = Object.create(null);\n          // Only the first time populating execOptionsRef.current matters here.\n          internalState.forceUpdate();\n        }\n        return method.apply(this, arguments);\n      };\n    }\n\n    return eagerMethods;\n  }, []);\n\n  Object.assign(result, eagerMethods);\n\n  const execute = useCallback<\n    LazyQueryResultTuple<TData, TVariables>[0]\n  >(executeOptions => {\n    execOptionsRef.current = executeOptions ? {\n      ...executeOptions,\n      fetchPolicy: executeOptions.fetchPolicy || initialFetchPolicy,\n    } : {\n      fetchPolicy: initialFetchPolicy,\n    };\n\n    const promise = internalState\n      .asyncUpdate() // Like internalState.forceUpdate, but returns a Promise.\n      .then(queryResult => Object.assign(queryResult, eagerMethods));\n\n    // Because the return value of `useLazyQuery` is usually floated, we need\n    // to catch the promise to prevent unhandled rejections.\n    promise.catch(() => {});\n\n    return promise;\n  }, []);\n\n  return [execute, result];\n}\n","import { type ApolloError, type ApolloQueryResult, gql } from '@mlflow/mlflow/src/common/utils/graphQLHooks';\nimport type { GetRun, GetRunVariables } from '../../../../graphql/__generated__/graphql';\nimport { useQuery, useLazyQuery } from '@mlflow/mlflow/src/common/utils/graphQLHooks';\n\nconst GET_RUN_QUERY = gql`\n  query GetRun($data: MlflowGetRunInput!) @component(name: \"MLflow.ExperimentRunTracking\") {\n    mlflowGetRun(input: $data) {\n      apiError {\n        helpUrl\n        code\n        message\n      }\n      run {\n        info {\n          runName\n          status\n          runUuid\n          experimentId\n          artifactUri\n          endTime\n          lifecycleStage\n          startTime\n          userId\n        }\n        experiment {\n          experimentId\n          name\n          tags {\n            key\n            value\n          }\n          artifactLocation\n          lifecycleStage\n          lastUpdateTime\n        }\n        modelVersions {\n          status\n          version\n          name\n          source\n        }\n        data {\n          metrics {\n            key\n            value\n            step\n            timestamp\n          }\n          params {\n            key\n            value\n          }\n          tags {\n            key\n            value\n          }\n        }\n        inputs {\n          datasetInputs {\n            dataset {\n              digest\n              name\n              profile\n              schema\n              source\n              sourceType\n            }\n            tags {\n              key\n              value\n            }\n          }\n          modelInputs {\n            modelId\n          }\n        }\n        outputs {\n          modelOutputs {\n            modelId\n            step\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport type UseGetRunQueryResponseRunInfo = NonNullable<NonNullable<UseGetRunQueryDataResponse>['info']>;\nexport type UseGetRunQueryResponseDatasetInputs = NonNullable<\n  NonNullable<UseGetRunQueryDataResponse>['inputs']\n>['datasetInputs'];\nexport type UseGetRunQueryResponseInputs = NonNullable<UseGetRunQueryDataResponse>['inputs'];\nexport type UseGetRunQueryResponseOutputs = NonNullable<UseGetRunQueryDataResponse>['outputs'];\nexport type UseGetRunQueryResponseExperiment = NonNullable<NonNullable<UseGetRunQueryDataResponse>['experiment']>;\nexport type UseGetRunQueryResponseDataMetrics = NonNullable<\n  NonNullable<NonNullable<UseGetRunQueryDataResponse>['data']>['metrics']\n>;\n\nexport type UseGetRunQueryDataResponse = NonNullable<GetRun['mlflowGetRun']>['run'];\nexport type UseGetRunQueryDataApiError = NonNullable<GetRun['mlflowGetRun']>['apiError'];\nexport type UseGetRunQueryResponse = {\n  data?: UseGetRunQueryDataResponse;\n  loading: boolean;\n  apolloError?: ApolloError;\n  apiError?: UseGetRunQueryDataApiError;\n  refetchRun: () => Promise<ApolloQueryResult<GetRun>>;\n};\n\nexport const useGetRunQuery = ({\n  runUuid,\n  disabled = false,\n}: {\n  runUuid: string;\n  disabled?: boolean;\n}): UseGetRunQueryResponse => {\n  const {\n    data,\n    loading,\n    error: apolloError,\n    refetch,\n  } = useQuery<GetRun, GetRunVariables>(GET_RUN_QUERY, {\n    variables: {\n      data: {\n        runId: runUuid,\n      },\n    },\n    skip: disabled,\n  });\n\n  return {\n    loading,\n    data: data?.mlflowGetRun?.run,\n    refetchRun: refetch,\n    apolloError,\n    apiError: data?.mlflowGetRun?.apiError,\n  } as const;\n};\n\nexport const useLazyGetRunQuery = () => useLazyQuery<GetRun, GetRunVariables>(GET_RUN_QUERY);\n","import React, {\n  createContext,\n  useCallback,\n  useContext,\n  useMemo,\n  useState,\n  type PropsWithChildren,\n  type SyntheticEvent,\n} from 'react';\n\nimport { matchPredefinedError } from '../errors';\nimport type { HandleableError, PredefinedError } from '../errors';\n\nexport type UserActionError = PredefinedError | null;\n\ntype UserActionErrorHandlerContextProps = {\n  currentUserActionError: UserActionError;\n  handleError: (error: HandleableError, onErrorCallback?: (err: UserActionError) => void) => void;\n  handlePromise: (promise: Promise<any>) => void;\n  clearUserActionError: () => void;\n};\n\nconst UserActionErrorHandlerContext = createContext<UserActionErrorHandlerContextProps>({\n  currentUserActionError: null,\n  handleError: () => {},\n  handlePromise: () => {},\n  clearUserActionError: () => {},\n});\n\ntype UserActionErrorHandlerProps = {\n  errorFilter?: (error: any) => boolean;\n};\n\nexport const UserActionErrorHandler = ({ children, errorFilter }: PropsWithChildren<UserActionErrorHandlerProps>) => {\n  const [currentUserActionError, setCurrentUserActionError] = useState<UserActionError>(null);\n\n  const handleError = useCallback(\n    (error: HandleableError, onErrorCallback?: (err: UserActionError) => void) => {\n      if (!errorFilter?.(error)) {\n        const predefinedError = matchPredefinedError(error);\n\n        setCurrentUserActionError(predefinedError);\n\n        if (onErrorCallback) {\n          onErrorCallback(predefinedError);\n        }\n      }\n    },\n    [setCurrentUserActionError, errorFilter],\n  );\n\n  const handlePromise = useCallback(\n    (promise: Promise<any>) => {\n      promise.catch((error: HandleableError) => {\n        handleError(error);\n      });\n    },\n    [handleError],\n  );\n\n  const clearUserActionError = useCallback(() => {\n    setCurrentUserActionError(null);\n  }, [setCurrentUserActionError]);\n\n  return (\n    <UserActionErrorHandlerContext.Provider\n      value={useMemo(\n        () => ({\n          currentUserActionError,\n          handleError,\n          handlePromise,\n          clearUserActionError,\n        }),\n        [clearUserActionError, currentUserActionError, handleError, handlePromise],\n      )}\n    >\n      {children}\n    </UserActionErrorHandlerContext.Provider>\n  );\n};\n\nexport type UserErrorActionHandlerHook = {\n  currentUserActionError: UserActionError;\n  handleError: (error: HandleableError, onErrorCallback?: (err: UserActionError) => void) => void;\n  /** @deprecated Use handleError instead, or get permission from #product-analytics to use */\n  handleErrorWithEvent: (\n    event: SyntheticEvent | Event,\n    error: HandleableError,\n    onErrorCallback?: (err: UserActionError) => void,\n  ) => void;\n  handlePromise: (promise: Promise<any>) => void;\n  clearUserActionError: () => void;\n};\n\nexport const useUserActionErrorHandler = (): UserErrorActionHandlerHook => {\n  const { currentUserActionError, handleError, handlePromise, clearUserActionError } =\n    useContext(UserActionErrorHandlerContext);\n\n  const handleErrorWithEventImpl = useCallback(\n    (event: SyntheticEvent | Event, error: HandleableError, onErrorCallback?: (err: UserActionError) => void) => {\n      handleError(error, onErrorCallback);\n    },\n    [handleError],\n  );\n\n  return useMemo(\n    () => ({\n      currentUserActionError,\n      handleError,\n      handleErrorWithEvent: handleErrorWithEventImpl,\n      handlePromise,\n      clearUserActionError,\n    }),\n    [clearUserActionError, handleError, handlePromise, currentUserActionError, handleErrorWithEventImpl],\n  );\n};\n\nexport function withUserActionErrorHandler<P>(\n  Component: React.ComponentType<P>,\n  errorFilter?: (error: any) => boolean,\n): React.ComponentType<P> {\n  return function UserActionErrorHandlerWrapper(props: P) {\n    return (\n      <UserActionErrorHandler errorFilter={errorFilter}>\n        {/* @ts-expect-error Generics don't play well with WithConditionalCSSProp type coming @emotion/react jsx typing to validate css= prop values typing. More details here: emotion-js/emotion#2169 */}\n        <Component {...props} />\n      </UserActionErrorHandler>\n    );\n  };\n}\n","import {\n  BranchIcon,\n  CopyIcon,\n  GitCommitIcon,\n  Tag,\n  Typography,\n  useDesignSystemTheme,\n  Tooltip,\n  Popover,\n} from '@databricks/design-system';\nimport Utils from '../../../common/utils/Utils';\nimport type { LoggedModelKeyValueProto, LoggedModelProto } from '../../types';\nimport { MLFLOW_RUN_GIT_SOURCE_BRANCH_TAG } from '../../constants';\nimport { CopyButton } from '@mlflow/mlflow/src/shared/building_blocks/CopyButton';\nimport { ExperimentSourceTypeIcon } from '../ExperimentSourceTypeIcon';\nimport { useMemo } from 'react';\nimport { useSearchParams } from '../../../common/utils/RoutingUtils';\n\nexport const ExperimentLoggedModelSourceBox = ({\n  loggedModel,\n  displayDetails,\n  className,\n}: {\n  loggedModel: LoggedModelProto;\n  /**\n   * Set to true to display the branch name and commit hash.\n   */\n  displayDetails?: boolean;\n  className?: string;\n}) => {\n  const [searchParams] = useSearchParams();\n\n  const tagsByKey = useMemo(\n    () =>\n      loggedModel?.info?.tags?.reduce((acc, tag) => {\n        if (!tag.key) {\n          return acc;\n        }\n        acc[tag.key] = tag;\n        return acc;\n      }, {} as Record<string, LoggedModelKeyValueProto>) ?? {},\n    [loggedModel?.info?.tags],\n  );\n\n  const branchName = tagsByKey?.[MLFLOW_RUN_GIT_SOURCE_BRANCH_TAG]?.value;\n  const commitHash = tagsByKey?.[Utils.gitCommitTag]?.value;\n\n  const runSource = useMemo(() => {\n    try {\n      return Utils.renderSource(tagsByKey, searchParams.toString(), undefined, branchName);\n    } catch (e) {\n      return undefined;\n    }\n  }, [tagsByKey, searchParams, branchName]);\n\n  const sourceTypeValue = tagsByKey[Utils.sourceTypeTag]?.value;\n\n  const { theme } = useDesignSystemTheme();\n  return runSource ? (\n    <div\n      css={{\n        display: 'flex',\n        alignItems: 'center',\n        gap: theme.spacing.sm,\n        paddingTop: theme.spacing.sm,\n        paddingBottom: theme.spacing.sm,\n        flexWrap: displayDetails ? 'wrap' : undefined,\n      }}\n      className={className}\n    >\n      {sourceTypeValue && (\n        <ExperimentSourceTypeIcon\n          sourceType={sourceTypeValue}\n          css={{ color: theme.colors.actionPrimaryBackgroundDefault }}\n        />\n      )}\n      {runSource}{' '}\n      {displayDetails && branchName && (\n        <Tooltip componentId=\"mlflow.logged_model.details.source.branch_tooltip\" content={branchName}>\n          <Tag componentId=\"mlflow.logged_model.details.source.branch\" css={{ marginRight: 0 }}>\n            <div css={{ display: 'flex', gap: theme.spacing.xs, whiteSpace: 'nowrap' }}>\n              <BranchIcon /> {branchName}\n            </div>\n          </Tag>\n        </Tooltip>\n      )}\n      {displayDetails && commitHash && (\n        <Popover.Root componentId=\"mlflow.logged_model.details.source.commit_hash_popover\">\n          <Popover.Trigger asChild>\n            <Tag\n              componentId=\"mlflow.logged_model.details.source.commit_hash\"\n              css={{ marginRight: 0, '&>div': { paddingRight: 0 } }}\n            >\n              <div css={{ display: 'flex', gap: theme.spacing.xs, whiteSpace: 'nowrap', alignContent: 'center' }}>\n                <GitCommitIcon />\n                {commitHash.slice(0, 7)}\n              </div>\n            </Tag>\n          </Popover.Trigger>\n          <Popover.Content align=\"start\">\n            <Popover.Arrow />\n            <div css={{ display: 'flex', gap: theme.spacing.xs, alignItems: 'center' }}>\n              {commitHash}\n              <CopyButton showLabel={false} size=\"small\" type=\"tertiary\" copyText={commitHash} icon={<CopyIcon />} />\n            </div>\n          </Popover.Content>\n        </Popover.Root>\n      )}\n    </div>\n  ) : (\n    <Typography.Hint></Typography.Hint>\n  );\n};\n","import React from 'react';\n\nimport { Tooltip } from '@databricks/design-system';\nimport type { IntlShape } from 'react-intl';\nimport { useIntl } from 'react-intl';\n\n// Time intervals in seconds\nconst SECOND = 1;\nconst MINUTE = 60 * SECOND;\nconst HOUR = 60 * MINUTE;\nconst DAY = 24 * HOUR;\nconst MONTH = 30 * DAY;\nconst YEAR = 365 * DAY;\n\ntype Interval = {\n  seconds: number;\n  timeAgoMessage: (count: number) => string;\n};\n\nconst getIntervals = (intl: IntlShape): Interval[] => [\n  {\n    seconds: YEAR,\n    timeAgoMessage: (count: number) =>\n      intl.formatMessage(\n        {\n          defaultMessage: '{count, plural, =1 {1 year} other {# years}} ago',\n          description: 'Time duration in years',\n        },\n        { count },\n      ),\n  },\n  {\n    seconds: MONTH,\n    timeAgoMessage: (count: number) =>\n      intl.formatMessage(\n        {\n          defaultMessage: '{count, plural, =1 {1 month} other {# months}} ago',\n          description: 'Time duration in months',\n        },\n        { count },\n      ),\n  },\n  {\n    seconds: DAY,\n    timeAgoMessage: (count: number) =>\n      intl.formatMessage(\n        {\n          defaultMessage: '{count, plural, =1 {1 day} other {# days}} ago',\n          description: 'Time duration in days',\n        },\n        { count },\n      ),\n  },\n  {\n    seconds: HOUR,\n    timeAgoMessage: (count: number) =>\n      intl.formatMessage(\n        {\n          defaultMessage: '{count, plural, =1 {1 hour} other {# hours}} ago',\n          description: 'Time duration in hours',\n        },\n        { count },\n      ),\n  },\n  {\n    seconds: MINUTE,\n    timeAgoMessage: (count: number) =>\n      intl.formatMessage(\n        {\n          defaultMessage: '{count, plural, =1 {1 minute} other {# minutes}} ago',\n          description: 'Time duration in minutes',\n        },\n        { count },\n      ),\n  },\n  {\n    seconds: SECOND,\n    timeAgoMessage: (count: number) =>\n      intl.formatMessage(\n        {\n          defaultMessage: '{count, plural, =1 {1 second} other {# seconds}} ago',\n          description: 'Time duration in seconds',\n        },\n        { count },\n      ),\n  },\n];\n\nexport interface TimeAgoProps {\n  date: Date;\n  tooltipFormatOptions?: DateTooltipOptionsType;\n}\n\ntype DateTooltipOptionsType = Intl.DateTimeFormatOptions;\n\nconst DateTooltipOptions: DateTooltipOptionsType = {\n  timeZoneName: 'short',\n  year: 'numeric',\n  month: 'numeric',\n  day: 'numeric',\n  hour: '2-digit',\n  minute: '2-digit',\n};\n\nexport const getTimeAgoStrings = ({\n  date,\n  intl,\n  tooltipFormatOptions = DateTooltipOptions,\n}: TimeAgoProps & { intl: IntlShape }): { displayText: string; tooltipTitle: string } => {\n  const now = new Date();\n  const seconds = Math.round((now.getTime() - date.getTime()) / 1000);\n\n  const locale = navigator.language || 'en-US';\n  let tooltipTitle = '';\n  try {\n    tooltipTitle = Intl.DateTimeFormat(locale, tooltipFormatOptions).format(date);\n  } catch (e) {\n    // ES-1357574 Do nothing; this is not a critical path, let's just not throw an error\n  }\n\n  for (const interval of getIntervals(intl)) {\n    const count = Math.floor(seconds / interval.seconds);\n    if (count >= 1) {\n      return { displayText: interval.timeAgoMessage(count), tooltipTitle };\n    }\n  }\n\n  return {\n    displayText: intl.formatMessage({\n      defaultMessage: 'just now',\n      description: 'Indicates a time duration that just passed',\n    }),\n    tooltipTitle,\n  };\n};\n\nexport const TimeAgo: React.FC<TimeAgoProps> = ({ date, tooltipFormatOptions = DateTooltipOptions }) => {\n  const intl = useIntl();\n  const { displayText, tooltipTitle } = getTimeAgoStrings({ date, intl, tooltipFormatOptions });\n  return (\n    <Tooltip componentId=\"web-shared.time-ago\" content={tooltipTitle}>\n      <span>{displayText}</span>\n    </Tooltip>\n  );\n};\n","import React from 'react';\n\nimport { TimeAgo } from '@databricks/web-shared/browse';\n\nexport const ExperimentLoggedModelTableDateCell = ({ value }: { value?: string | number | null }) => {\n  const date = new Date(Number(value));\n\n  if (isNaN(date as any)) {\n    return null;\n  }\n\n  return <TimeAgo date={date} />;\n};\n","import { difference, replaceAt } from './utils'\nimport { notifyManager } from './notifyManager'\nimport type {\n  QueryObserverOptions,\n  QueryObserverResult,\n  DefaultedQueryObserverOptions,\n} from './types'\nimport type { QueryClient } from './queryClient'\nimport type { NotifyOptions } from './queryObserver'\nimport { QueryObserver } from './queryObserver'\nimport { Subscribable } from './subscribable'\n\ntype QueriesObserverListener = (result: QueryObserverResult[]) => void\n\nexport class QueriesObserver extends Subscribable<QueriesObserverListener> {\n  private client: QueryClient\n  private result: QueryObserverResult[]\n  private queries: QueryObserverOptions[]\n  private observers: QueryObserver[]\n  private observersMap: Record<string, QueryObserver>\n\n  constructor(client: QueryClient, queries?: QueryObserverOptions[]) {\n    super()\n\n    this.client = client\n    this.queries = []\n    this.result = []\n    this.observers = []\n    this.observersMap = {}\n\n    if (queries) {\n      this.setQueries(queries)\n    }\n  }\n\n  protected onSubscribe(): void {\n    if (this.listeners.size === 1) {\n      this.observers.forEach((observer) => {\n        observer.subscribe((result) => {\n          this.onUpdate(observer, result)\n        })\n      })\n    }\n  }\n\n  protected onUnsubscribe(): void {\n    if (!this.listeners.size) {\n      this.destroy()\n    }\n  }\n\n  destroy(): void {\n    this.listeners = new Set()\n    this.observers.forEach((observer) => {\n      observer.destroy()\n    })\n  }\n\n  setQueries(\n    queries: QueryObserverOptions[],\n    notifyOptions?: NotifyOptions,\n  ): void {\n    this.queries = queries\n\n    notifyManager.batch(() => {\n      const prevObservers = this.observers\n\n      const newObserverMatches = this.findMatchingObservers(this.queries)\n\n      // set options for the new observers to notify of changes\n      newObserverMatches.forEach((match) =>\n        match.observer.setOptions(match.defaultedQueryOptions, notifyOptions),\n      )\n\n      const newObservers = newObserverMatches.map((match) => match.observer)\n      const newObserversMap = Object.fromEntries(\n        newObservers.map((observer) => [observer.options.queryHash, observer]),\n      )\n      const newResult = newObservers.map((observer) =>\n        observer.getCurrentResult(),\n      )\n\n      const hasIndexChange = newObservers.some(\n        (observer, index) => observer !== prevObservers[index],\n      )\n      if (prevObservers.length === newObservers.length && !hasIndexChange) {\n        return\n      }\n\n      this.observers = newObservers\n      this.observersMap = newObserversMap\n      this.result = newResult\n\n      if (!this.hasListeners()) {\n        return\n      }\n\n      difference(prevObservers, newObservers).forEach((observer) => {\n        observer.destroy()\n      })\n\n      difference(newObservers, prevObservers).forEach((observer) => {\n        observer.subscribe((result) => {\n          this.onUpdate(observer, result)\n        })\n      })\n\n      this.notify()\n    })\n  }\n\n  getCurrentResult(): QueryObserverResult[] {\n    return this.result\n  }\n\n  getQueries() {\n    return this.observers.map((observer) => observer.getCurrentQuery())\n  }\n\n  getObservers() {\n    return this.observers\n  }\n\n  getOptimisticResult(queries: QueryObserverOptions[]): QueryObserverResult[] {\n    return this.findMatchingObservers(queries).map((match) =>\n      match.observer.getOptimisticResult(match.defaultedQueryOptions),\n    )\n  }\n\n  private findMatchingObservers(\n    queries: QueryObserverOptions[],\n  ): QueryObserverMatch[] {\n    const prevObservers = this.observers\n    const prevObserversMap = new Map(\n      prevObservers.map((observer) => [observer.options.queryHash, observer]),\n    )\n\n    const defaultedQueryOptions = queries.map((options) =>\n      this.client.defaultQueryOptions(options),\n    )\n\n    const matchingObservers: QueryObserverMatch[] =\n      defaultedQueryOptions.flatMap((defaultedOptions) => {\n        const match = prevObserversMap.get(defaultedOptions.queryHash)\n        if (match != null) {\n          return [{ defaultedQueryOptions: defaultedOptions, observer: match }]\n        }\n        return []\n      })\n\n    const matchedQueryHashes = new Set(\n      matchingObservers.map((match) => match.defaultedQueryOptions.queryHash),\n    )\n    const unmatchedQueries = defaultedQueryOptions.filter(\n      (defaultedOptions) => !matchedQueryHashes.has(defaultedOptions.queryHash),\n    )\n\n    const matchingObserversSet = new Set(\n      matchingObservers.map((match) => match.observer),\n    )\n    const unmatchedObservers = prevObservers.filter(\n      (prevObserver) => !matchingObserversSet.has(prevObserver),\n    )\n\n    const getObserver = (options: QueryObserverOptions): QueryObserver => {\n      const defaultedOptions = this.client.defaultQueryOptions(options)\n      const currentObserver = this.observersMap[defaultedOptions.queryHash!]\n      return currentObserver ?? new QueryObserver(this.client, defaultedOptions)\n    }\n\n    const newOrReusedObservers: QueryObserverMatch[] = unmatchedQueries.map(\n      (options, index) => {\n        if (options.keepPreviousData) {\n          // return previous data from one of the observers that no longer match\n          const previouslyUsedObserver = unmatchedObservers[index]\n          if (previouslyUsedObserver !== undefined) {\n            return {\n              defaultedQueryOptions: options,\n              observer: previouslyUsedObserver,\n            }\n          }\n        }\n        return {\n          defaultedQueryOptions: options,\n          observer: getObserver(options),\n        }\n      },\n    )\n\n    const sortMatchesByOrderOfQueries = (\n      a: QueryObserverMatch,\n      b: QueryObserverMatch,\n    ): number =>\n      defaultedQueryOptions.indexOf(a.defaultedQueryOptions) -\n      defaultedQueryOptions.indexOf(b.defaultedQueryOptions)\n\n    return matchingObservers\n      .concat(newOrReusedObservers)\n      .sort(sortMatchesByOrderOfQueries)\n  }\n\n  private onUpdate(observer: QueryObserver, result: QueryObserverResult): void {\n    const index = this.observers.indexOf(observer)\n    if (index !== -1) {\n      this.result = replaceAt(this.result, index, result)\n      this.notify()\n    }\n  }\n\n  private notify(): void {\n    notifyManager.batch(() => {\n      this.listeners.forEach(({ listener }) => {\n        listener(this.result)\n      })\n    })\n  }\n}\n\ntype QueryObserverMatch = {\n  defaultedQueryOptions: DefaultedQueryObserverOptions\n  observer: QueryObserver\n}\n","import 'client-only'\nimport * as React from 'react'\nimport { useSyncExternalStore } from './useSyncExternalStore'\n\nimport type { QueryKey, QueryFunction } from '@tanstack/query-core'\nimport { notifyManager, QueriesObserver } from '@tanstack/query-core'\nimport { useQueryClient } from './QueryClientProvider'\nimport type { UseQueryOptions, UseQueryResult } from './types'\nimport { useIsRestoring } from './isRestoring'\nimport { useQueryErrorResetBoundary } from './QueryErrorResetBoundary'\nimport {\n  ensurePreventErrorBoundaryRetry,\n  getHasError,\n  useClearResetErrorBoundary,\n} from './errorBoundaryUtils'\nimport {\n  ensureStaleTime,\n  shouldSuspend,\n  fetchOptimistic,\n  willFetch,\n} from './suspense'\n\n// This defines the `UseQueryOptions` that are accepted in `QueriesOptions` & `GetOptions`.\n// - `context` is omitted as it is passed as a root-level option to `useQueries` instead.\ntype UseQueryOptionsForUseQueries<\n  TQueryFnData = unknown,\n  TError = unknown,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n> = Omit<UseQueryOptions<TQueryFnData, TError, TData, TQueryKey>, 'context'>\n\n// Avoid TS depth-limit error in case of large array literal\ntype MAXIMUM_DEPTH = 20\n\ntype GetOptions<T> =\n  // Part 1: responsible for applying explicit type parameter to function arguments, if object { queryFnData: TQueryFnData, error: TError, data: TData }\n  T extends {\n    queryFnData: infer TQueryFnData\n    error?: infer TError\n    data: infer TData\n  }\n    ? UseQueryOptionsForUseQueries<TQueryFnData, TError, TData>\n    : T extends { queryFnData: infer TQueryFnData; error?: infer TError }\n    ? UseQueryOptionsForUseQueries<TQueryFnData, TError>\n    : T extends { data: infer TData; error?: infer TError }\n    ? UseQueryOptionsForUseQueries<unknown, TError, TData>\n    : // Part 2: responsible for applying explicit type parameter to function arguments, if tuple [TQueryFnData, TError, TData]\n    T extends [infer TQueryFnData, infer TError, infer TData]\n    ? UseQueryOptionsForUseQueries<TQueryFnData, TError, TData>\n    : T extends [infer TQueryFnData, infer TError]\n    ? UseQueryOptionsForUseQueries<TQueryFnData, TError>\n    : T extends [infer TQueryFnData]\n    ? UseQueryOptionsForUseQueries<TQueryFnData>\n    : // Part 3: responsible for inferring and enforcing type if no explicit parameter was provided\n    T extends {\n        queryFn?: QueryFunction<infer TQueryFnData, infer TQueryKey>\n        select: (data: any) => infer TData\n      }\n    ? UseQueryOptionsForUseQueries<TQueryFnData, unknown, TData, TQueryKey>\n    : T extends { queryFn?: QueryFunction<infer TQueryFnData, infer TQueryKey> }\n    ? UseQueryOptionsForUseQueries<\n        TQueryFnData,\n        unknown,\n        TQueryFnData,\n        TQueryKey\n      >\n    : // Fallback\n      UseQueryOptionsForUseQueries\n\ntype GetResults<T> =\n  // Part 1: responsible for mapping explicit type parameter to function result, if object\n  T extends { queryFnData: any; error?: infer TError; data: infer TData }\n    ? UseQueryResult<TData, TError>\n    : T extends { queryFnData: infer TQueryFnData; error?: infer TError }\n    ? UseQueryResult<TQueryFnData, TError>\n    : T extends { data: infer TData; error?: infer TError }\n    ? UseQueryResult<TData, TError>\n    : // Part 2: responsible for mapping explicit type parameter to function result, if tuple\n    T extends [any, infer TError, infer TData]\n    ? UseQueryResult<TData, TError>\n    : T extends [infer TQueryFnData, infer TError]\n    ? UseQueryResult<TQueryFnData, TError>\n    : T extends [infer TQueryFnData]\n    ? UseQueryResult<TQueryFnData>\n    : // Part 3: responsible for mapping inferred type to results, if no explicit parameter was provided\n    T extends {\n        queryFn?: QueryFunction<unknown, any>\n        select: (data: any) => infer TData\n      }\n    ? UseQueryResult<TData>\n    : T extends { queryFn?: QueryFunction<infer TQueryFnData, any> }\n    ? UseQueryResult<TQueryFnData>\n    : // Fallback\n      UseQueryResult\n\n/**\n * QueriesOptions reducer recursively unwraps function arguments to infer/enforce type param\n */\nexport type QueriesOptions<\n  T extends any[],\n  Result extends any[] = [],\n  Depth extends ReadonlyArray<number> = [],\n> = Depth['length'] extends MAXIMUM_DEPTH\n  ? UseQueryOptionsForUseQueries[]\n  : T extends []\n  ? []\n  : T extends [infer Head]\n  ? [...Result, GetOptions<Head>]\n  : T extends [infer Head, ...infer Tail]\n  ? QueriesOptions<[...Tail], [...Result, GetOptions<Head>], [...Depth, 1]>\n  : unknown[] extends T\n  ? T\n  : // If T is *some* array but we couldn't assign unknown[] to it, then it must hold some known/homogenous type!\n  // use this to infer the param types in the case of Array.map() argument\n  T extends UseQueryOptionsForUseQueries<\n      infer TQueryFnData,\n      infer TError,\n      infer TData,\n      infer TQueryKey\n    >[]\n  ? UseQueryOptionsForUseQueries<TQueryFnData, TError, TData, TQueryKey>[]\n  : // Fallback\n    UseQueryOptionsForUseQueries[]\n\n/**\n * QueriesResults reducer recursively maps type param to results\n */\nexport type QueriesResults<\n  T extends any[],\n  Result extends any[] = [],\n  Depth extends ReadonlyArray<number> = [],\n> = Depth['length'] extends MAXIMUM_DEPTH\n  ? UseQueryResult[]\n  : T extends []\n  ? []\n  : T extends [infer Head]\n  ? [...Result, GetResults<Head>]\n  : T extends [infer Head, ...infer Tail]\n  ? QueriesResults<[...Tail], [...Result, GetResults<Head>], [...Depth, 1]>\n  : T extends UseQueryOptionsForUseQueries<\n      infer TQueryFnData,\n      infer TError,\n      infer TData,\n      any\n    >[]\n  ? // Dynamic-size (homogenous) UseQueryOptions array: map directly to array of results\n    UseQueryResult<unknown extends TData ? TQueryFnData : TData, TError>[]\n  : // Fallback\n    UseQueryResult[]\n\nexport function useQueries<T extends any[]>({\n  queries,\n  context,\n}: {\n  queries: readonly [...QueriesOptions<T>]\n  context?: UseQueryOptions['context']\n}): QueriesResults<T> {\n  const queryClient = useQueryClient({ context })\n  const isRestoring = useIsRestoring()\n  const errorResetBoundary = useQueryErrorResetBoundary()\n\n  const defaultedQueries = React.useMemo(\n    () =>\n      queries.map((options) => {\n        const defaultedOptions = queryClient.defaultQueryOptions(options)\n\n        // Make sure the results are already in fetching state before subscribing or updating options\n        defaultedOptions._optimisticResults = isRestoring\n          ? 'isRestoring'\n          : 'optimistic'\n\n        return defaultedOptions\n      }),\n    [queries, queryClient, isRestoring],\n  )\n\n  defaultedQueries.forEach((query) => {\n    ensureStaleTime(query)\n    ensurePreventErrorBoundaryRetry(query, errorResetBoundary)\n  })\n\n  useClearResetErrorBoundary(errorResetBoundary)\n\n  const [observer] = React.useState(\n    () => new QueriesObserver(queryClient, defaultedQueries),\n  )\n\n  const optimisticResult = observer.getOptimisticResult(defaultedQueries)\n\n  useSyncExternalStore(\n    React.useCallback(\n      (onStoreChange) =>\n        isRestoring\n          ? () => undefined\n          : observer.subscribe(notifyManager.batchCalls(onStoreChange)),\n      [observer, isRestoring],\n    ),\n    () => observer.getCurrentResult(),\n    () => observer.getCurrentResult(),\n  )\n\n  React.useEffect(() => {\n    // Do not notify on updates because of changes in the options because\n    // these changes should already be reflected in the optimistic result.\n    observer.setQueries(defaultedQueries, { listeners: false })\n  }, [defaultedQueries, observer])\n\n  const shouldAtLeastOneSuspend = optimisticResult.some((result, index) =>\n    shouldSuspend(defaultedQueries[index], result, isRestoring),\n  )\n\n  const suspensePromises = shouldAtLeastOneSuspend\n    ? optimisticResult.flatMap((result, index) => {\n        const options = defaultedQueries[index]\n        const queryObserver = observer.getObservers()[index]\n\n        if (options && queryObserver) {\n          if (shouldSuspend(options, result, isRestoring)) {\n            return fetchOptimistic(options, queryObserver, errorResetBoundary)\n          } else if (willFetch(result, isRestoring)) {\n            void fetchOptimistic(options, queryObserver, errorResetBoundary)\n          }\n        }\n        return []\n      })\n    : []\n\n  if (suspensePromises.length > 0) {\n    throw Promise.all(suspensePromises)\n  }\n  const observerQueries = observer.getQueries()\n  const firstSingleResultWhichShouldThrow = optimisticResult.find(\n    (result, index) =>\n      getHasError({\n        result,\n        errorResetBoundary,\n        useErrorBoundary: defaultedQueries[index]?.useErrorBoundary ?? false,\n        query: observerQueries[index]!,\n      }),\n  )\n\n  if (firstSingleResultWhichShouldThrow?.error) {\n    throw firstSingleResultWhichShouldThrow.error\n  }\n\n  return optimisticResult as QueriesResults<T>\n}\n","import {\n  CheckCircleIcon,\n  ClockIcon,\n  Tag,\n  Typography,\n  useDesignSystemTheme,\n  XCircleIcon,\n} from '@databricks/design-system';\nimport { FormattedMessage } from 'react-intl';\nimport { LoggedModelStatusProtoEnum, type LoggedModelProto } from '../../types';\n\nconst LoggedModelStatusIcon = ({ status }: { status: LoggedModelStatusProtoEnum }) => {\n  if (status === LoggedModelStatusProtoEnum.LOGGED_MODEL_READY) {\n    return <CheckCircleIcon color=\"success\" />;\n  }\n\n  if (status === LoggedModelStatusProtoEnum.LOGGED_MODEL_UPLOAD_FAILED) {\n    return <XCircleIcon color=\"danger\" />;\n  }\n\n  if (status === LoggedModelStatusProtoEnum.LOGGED_MODEL_PENDING) {\n    return <ClockIcon color=\"warning\" />;\n  }\n\n  return null;\n};\n\nexport const ExperimentLoggedModelStatusIndicator = ({ data }: { data: LoggedModelProto }) => {\n  const { theme } = useDesignSystemTheme();\n  const status = data.info?.status ?? LoggedModelStatusProtoEnum.LOGGED_MODEL_STATUS_UNSPECIFIED;\n\n  const getTagColor = () => {\n    if (status === LoggedModelStatusProtoEnum.LOGGED_MODEL_READY) {\n      return theme.isDarkMode ? theme.colors.green800 : theme.colors.green100;\n    }\n    if (status === LoggedModelStatusProtoEnum.LOGGED_MODEL_UPLOAD_FAILED) {\n      return theme.isDarkMode ? theme.colors.red800 : theme.colors.red100;\n    }\n    if (status === LoggedModelStatusProtoEnum.LOGGED_MODEL_PENDING) {\n      return theme.isDarkMode ? theme.colors.yellow800 : theme.colors.yellow100;\n    }\n\n    return undefined;\n  };\n\n  const getStatusLabel = () => {\n    if (status === LoggedModelStatusProtoEnum.LOGGED_MODEL_READY) {\n      return (\n        <Typography.Text color=\"success\">\n          <FormattedMessage defaultMessage=\"Ready\" description=\"Label for ready state of a experiment logged model\" />\n        </Typography.Text>\n      );\n    }\n\n    if (status === LoggedModelStatusProtoEnum.LOGGED_MODEL_UPLOAD_FAILED) {\n      return (\n        <Typography.Text color=\"error\">\n          <FormattedMessage\n            defaultMessage=\"Upload failed\"\n            description=\"Label for upload failed state of a experiment logged model\"\n          />\n        </Typography.Text>\n      );\n    }\n    if (status === LoggedModelStatusProtoEnum.LOGGED_MODEL_PENDING) {\n      return (\n        <Typography.Text color=\"warning\">\n          <FormattedMessage\n            defaultMessage=\"Pending\"\n            description=\"Label for pending state of a experiment logged model\"\n          />\n        </Typography.Text>\n      );\n    }\n\n    return status;\n  };\n\n  return (\n    <Tag componentId=\"mlflow.logged_model.status\" css={{ backgroundColor: getTagColor() }}>\n      {status && <LoggedModelStatusIcon status={status} />}{' '}\n      <Typography.Text css={{ marginLeft: theme.spacing.sm }}>{getStatusLabel()}</Typography.Text>\n    </Tag>\n  );\n};\n","import { useRef } from 'react';\n\n/**\n * A custom hook that memoizes an array based on the reference of its elements, not the array itself.\n */\nexport function useArrayMemo<T>(array: T[]) {\n  // This holds reference to previous value\n  const ref = useRef<T[]>();\n  // Check if each element of the old and new array match\n  const areArraysConsideredTheSame =\n    ref.current && array.length === ref.current.length\n      ? array.every((element, i) => {\n          return element === ref.current?.[i];\n        })\n      : // Initially there's no old array defined/stored, so set to false\n        false;\n\n  if (!areArraysConsideredTheSame) {\n    ref.current = array;\n  }\n\n  return areArraysConsideredTheSame && ref.current ? ref.current : array;\n}\n"],"names":["useUnifiedRegisteredModelVersionsSummariesForRun","_ref","queryResult","runUuid","registeredModels","registeredModelsFromStore","useSelector","_ref2","entities","modelVersionsByRunUuid","shouldEnableGraphQLModelVersionsForRunDetails","result","_queryResult$data","_queryResult$data$mod","data","modelVersions","forEach","modelVersion","push","displayedName","name","version","link","ModelRegistryRoutes","getModelVersionPageRoute","status","source","map","transformToKeyedObject","inputArray","keyBy","transformDatasets","datasetInput","_datasetInput$dataset","_datasetInput$dataset2","_datasetInput$dataset3","_datasetInput$dataset4","_datasetInput$dataset5","_datasetInput$dataset6","_datasetInput$dataset7","_datasetInput$dataset8","_datasetInput$dataset9","_datasetInput$dataset0","_datasetInput$dataset1","_datasetInput$dataset10","_datasetInput$tags$ma","_datasetInput$tags","dataset","digest","profile","schema","sourceType","tags","tag","_tag$key","_tag$value","key","value","filter","isEmpty","useRunDetailsPageData","_ref3","_detailsPageResponse$","_detailsPageResponse$2","_detailsPageResponse$3","_detailsPageResponse$4","_detailsPageResponse$5","_detailsPageResponse$6","experimentId","usingGraphQL","shouldEnableGraphQLRunDetailsPage","dispatch","useDispatch","_detailsPageGraphqlRe10","_detailsPageGraphqlRe11","_detailsPageGraphqlRe12","_detailsPageGraphqlRe13","_detailsPageGraphqlRe14","_detailsPageGraphqlRe15","detailsPageGraphqlResponse","graphQLQuery","useGetRunQuery","useEffect","searchModelVersionsApi","run_id","latestMetrics","params","datasets","useMemo","_detailsPageGraphqlRe","_detailsPageGraphqlRe2","_detailsPageGraphqlRe3","_detailsPageGraphqlRe4","_detailsPageGraphqlRe5","_detailsPageGraphqlRe6","_detailsPageGraphqlRe7","_detailsPageGraphqlRe8","_detailsPageGraphqlRe9","_detailsPageGraphqlRe0","_detailsPageGraphqlRe1","pickBy","metrics","step","timestamp","Number","metric","trim","length","param","inputs","datasetInputs","registeredModelVersionSummaries","runInfo","info","undefined","experiment","loading","error","apolloError","apiError","refetchRun","runInputs","runOutputs","outputs","detailsPageResponse","useRunDetailsPageDataLegacy","runRequestId","setRunRequestId","useState","experimentRequestId","setExperimentRequestId","state","runInfosByUuid","tagsByRunUuid","latestMetricsByRunUuid","paramsByRunUuid","experimentsById","runDatasetsByUuid","fetchRun","useCallback","action","getRunApi","meta","id","fetchExperiment","getExperimentApi","fetchModelVersions","catch","e","Utils","logErrorAndNotifyUser","runLoading","runFetchError","_state$apis","_state$apis$runReques","_state$apis2","_state$apis2$runReque","Boolean","apis","active","experimentLoading","experimentFetchError","_state$apis3","_state$apis3$experime","_state$apis4","_state$apis4$experime","errors","ExperimentLoggedModelDatasetButton","datasetName","datasetDigest","runId","theme","useDesignSystemTheme","loadingDatasetDetails","setLoadingDatasetDetails","onDatasetClicked","useExperimentLoggedModelOpenDatasetDetails","handleError","useUserActionErrorHandler","_jsxs","Button","type","icon","_jsx","Spinner","size","css","_css","marginRight","spacing","sm","TableIcon","componentId","onClick","handleDatasetClick","finally","children","join","getUCModelUrl","replace","getWMRModelUrl","createMLflowRoutePath","getTagValueForModel","loggedModel","_loggedModel$info","_loggedModel$info$tag","_loggedModel$info$tag2","tagValue","find","JSON","parse","useExperimentLoggedModelRegisteredVersions","loggedModels","parsedModelVersionsTags","compact","flat","_parsedModelVersionsT","registeredModelEntry","getUrlFn","match","DatasetRunNotFoundError","PredefinedError","constructor","arguments","errorLogType","ErrorLogType","UnexpectedSystemStateError","errorName","ErrorName","isUserError","displayMessage","FormattedMessage","defaultMessage","ExperimentLoggedModelOpenDatasetDetailsContext","createContext","Promise","resolve","ExperimentLoggedModelOpenDatasetDetailsContextProvider","isDrawerOpen","setIsDrawerOpen","selectedDatasetWithRun","setSelectedDatasetWithRun","getRunInfo","useLazyGetRunQuery","rejectCurrentPromiseFn","useRef","async","reject","_rejectCurrentPromise","current","call","onError","onCompleted","_data$mlflowGetRun","_data$mlflowGetRun2","_data$mlflowGetRun2$r","_data$mlflowGetRun2$r2","_data$mlflowGetRun3","_data$mlflowGetRun3$r","_runData$tags$filter","_runData$tags","_info$runUuid","_info$experimentId","_info$runName","mlflowGetRun","code","ErrorCodes","RESOURCE_DOES_NOT_EXIST","transformGraphQLResponseDatasets","run","matchingDataset","runData","tagsDictionary","datasetWithTags","runName","variables","contextValue","Provider","ExperimentViewDatasetDrawer","isOpen","setIsOpen","useContext","EAGER_METHODS","GET_RUN_QUERY","gql","disabled","refetch","useQuery","skip","query","options","internalState","useInternalState","useApolloClient","client","execOptionsRef","merged","mergeOptions","useQueryResult","__assign","initialFetchPolicy","observable","getDefaultFetchPolicy","Object","assign","called","eagerMethods","method","create","forceUpdate","apply","this","_i","EAGER_METHODS_1","executeOptions","fetchPolicy","promise","asyncUpdate","then","useLazyQuery","UserActionErrorHandlerContext","currentUserActionError","handlePromise","clearUserActionError","UserActionErrorHandler","errorFilter","setCurrentUserActionError","onErrorCallback","predefinedError","matchPredefinedError","handleErrorWithEventImpl","event","handleErrorWithEvent","styles","ExperimentLoggedModelSourceBox","_loggedModel$info2","_tagsByKey$MLFLOW_RUN","_tagsByKey$Utils$gitC","_tagsByKey$Utils$sour","displayDetails","className","searchParams","useSearchParams","tagsByKey","reduce","acc","branchName","MLFLOW_RUN_GIT_SOURCE_BRANCH_TAG","commitHash","gitCommitTag","runSource","renderSource","toString","sourceTypeValue","sourceTypeTag","display","alignItems","gap","paddingTop","paddingBottom","flexWrap","ExperimentSourceTypeIcon","color","colors","actionPrimaryBackgroundDefault","Tooltip","content","Tag","xs","whiteSpace","BranchIcon","Popover","Root","Trigger","asChild","alignContent","GitCommitIcon","slice","Content","align","Arrow","CopyButton","showLabel","copyText","CopyIcon","Typography","Hint","DAY","DateTooltipOptions","timeZoneName","year","month","day","hour","minute","getTimeAgoStrings","date","intl","tooltipFormatOptions","now","Date","seconds","Math","round","getTime","locale","navigator","language","tooltipTitle","Intl","DateTimeFormat","format","interval","timeAgoMessage","count","formatMessage","getIntervals","floor","displayText","TimeAgo","useIntl","ExperimentLoggedModelTableDateCell","isNaN","QueriesObserver","Subscribable","queries","super","observers","observersMap","setQueries","onSubscribe","listeners","observer","subscribe","onUpdate","onUnsubscribe","destroy","Set","notifyOptions","notifyManager","batch","prevObservers","newObserverMatches","findMatchingObservers","setOptions","defaultedQueryOptions","newObservers","newObserversMap","fromEntries","queryHash","newResult","getCurrentResult","hasIndexChange","some","index","hasListeners","difference","notify","getQueries","getCurrentQuery","getObservers","getOptimisticResult","prevObserversMap","Map","defaultQueryOptions","matchingObservers","flatMap","defaultedOptions","get","matchedQueryHashes","unmatchedQueries","has","matchingObserversSet","unmatchedObservers","prevObserver","getObserver","currentObserver","QueryObserver","newOrReusedObservers","keepPreviousData","previouslyUsedObserver","concat","sort","sortMatchesByOrderOfQueries","a","b","indexOf","replaceAt","listener","useQueries","context","queryClient","useQueryClient","isRestoring","useIsRestoring","errorResetBoundary","useQueryErrorResetBoundary","defaultedQueries","React","_optimisticResults","ensureStaleTime","ensurePreventErrorBoundaryRetry","useClearResetErrorBoundary","optimisticResult","useSyncExternalStore","onStoreChange","batchCalls","suspensePromises","shouldSuspend","queryObserver","fetchOptimistic","willFetch","all","observerQueries","firstSingleResultWhichShouldThrow","_defaultedQueries$ind","_defaultedQueries$ind2","getHasError","useErrorBoundary","LoggedModelStatusIcon","LoggedModelStatusProtoEnum","LOGGED_MODEL_READY","CheckCircleIcon","LOGGED_MODEL_UPLOAD_FAILED","XCircleIcon","LOGGED_MODEL_PENDING","ClockIcon","ExperimentLoggedModelStatusIndicator","_data$info$status","_data$info","LOGGED_MODEL_STATUS_UNSPECIFIED","backgroundColor","isDarkMode","green800","green100","red800","red100","yellow800","yellow100","Text","marginLeft","useArrayMemo","array","ref","areArraysConsideredTheSame","every","element","i","_ref$current"],"sourceRoot":""}